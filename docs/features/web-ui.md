# Web UI Design

## æ¦‚è¦

agentmineã®Web UIã¯ã€äººé–“ãŒAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆWorkerï¼‰ã‚’ç®¡ç†ãƒ»ç›£è¦–ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚

### è¨­è¨ˆåŸå‰‡

| åŸå‰‡ | èª¬æ˜ |
|------|------|
| **Web UIå®Œçµ** | CLIãªã—ã§å…¨æ“ä½œå¯èƒ½ |
| **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ** | ãƒã‚¦ã‚¹ä¸è¦ã§æ“ä½œå¯èƒ½ï¼ˆLinearé¢¨ï¼‰ |
| **ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿** | UIå½¢å¼ + YAML/Markdownç›´ç·¨é›†ï¼ˆVSCodeé¢¨ï¼‰ |
| **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ** | ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã®å³åº§ãªåæ˜  |
| **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ** | é–‹ç™ºè€…å‘ã‘ã«å¿…é ˆ |

## ç”»é¢æ§‹æˆ

| ç”»é¢ | èª­ã¿å–ã‚Š | ç·¨é›† | èª¬æ˜ |
|------|:--------:|:----:|------|
| Dashboard | âœ… | - | çµ±è¨ˆãƒ»æ¦‚è¦ãƒ»ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ |
| Tasks | âœ… | âœ… | ã‚¿ã‚¹ã‚¯CRUDã€è¤‡æ•°ãƒ“ãƒ¥ãƒ¼ |
| Sessions | âœ… | âœ… | å®Ÿè¡Œç›£è¦–ã€é–‹å§‹ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ« |
| Agents | âœ… | âœ… | UIç·¨é›† + YAMLç›´ç·¨é›† |
| Memory Bank | âœ… | âœ… | Markdownã‚¨ãƒ‡ã‚£ã‚¿å†…è”µ |
| Settings | âœ… | âœ… | UIç·¨é›† + YAMLç›´ç·¨é›† |

## ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

| ã‚­ãƒ¼ | æ“ä½œ |
|------|------|
| `Cmd/Ctrl + K` | ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ |
| `g` â†’ `d` | Go to Dashboard |
| `g` â†’ `t` | Go to Tasks |
| `g` â†’ `s` | Go to Sessions |
| `g` â†’ `a` | Go to Agents |
| `g` â†’ `m` | Go to Memory Bank |
| `g` â†’ `,` | Go to Settings |
| `?` | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§è¡¨ç¤º |

### ãƒªã‚¹ãƒˆæ“ä½œ

| ã‚­ãƒ¼ | æ“ä½œ |
|------|------|
| `j` / `â†“` | æ¬¡ã®é …ç›® |
| `k` / `â†‘` | å‰ã®é …ç›® |
| `Enter` | è©³ç´°ã‚’é–‹ã |
| `Esc` | é–‰ã˜ã‚‹ / æˆ»ã‚‹ |

### å…±é€šç·¨é›†æ“ä½œ

| ã‚­ãƒ¼ | æ“ä½œ |
|------|------|
| `n` | æ–°è¦ä½œæˆ |
| `e` | ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ |
| `d` | å‰Šé™¤ï¼ˆç¢ºèªã‚ã‚Šï¼‰ |
| `/` | ãƒ•ã‚£ãƒ«ã‚¿/æ¤œç´¢ |
| `Cmd/Ctrl + S` | ä¿å­˜ |

### ã‚¿ã‚¹ã‚¯å›ºæœ‰

| ã‚­ãƒ¼ | æ“ä½œ |
|------|------|
| `s` | ã‚»ãƒƒã‚·ãƒ§ãƒ³æ“ä½œï¼ˆWorkerèµ·å‹•/åœæ­¢ï¼‰ |
| `p` | å„ªå…ˆåº¦å¤‰æ›´ |

## ç”»é¢è©³ç´°è¨­è¨ˆ

### 1. Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  agentmine                    [Cmd+K]           [Settings]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Open      â”‚ â”‚  Running    â”‚ â”‚   Done      â”‚           â”‚
â”‚  â”‚     5       â”‚ â”‚     2       â”‚ â”‚    12       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Active Sessions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â— Task#3 "Add login" â”‚ coder â”‚ 5m23s                   â”‚ â”‚
â”‚  â”‚ â— Task#7 "Fix bug"   â”‚ reviewer â”‚ 2m10s                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Recent Tasks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ #12 Add login feature                    done     1h   â”‚ â”‚
â”‚  â”‚ #11 Fix API bug                          done     30m  â”‚ â”‚
â”‚  â”‚ #10 Update docs                          done     15m  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Quick Actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [+ New Task]  [View All Tasks]  [View Sessions]        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½:**
- ã‚¿ã‚¹ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã®é›†è¨ˆã‚«ãƒ¼ãƒ‰
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆçµŒéæ™‚é–“æ›´æ–°ï¼‰
- æœ€è¿‘å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯ä¸€è¦§
- ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³

### 2. Tasks

#### ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ

| ãƒ“ãƒ¥ãƒ¼ | ç”¨é€” |
|--------|------|
| **List** | ã‚·ãƒ³ãƒ—ãƒ«ãªä¸€è¦§ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| **Board** | ãƒ©ãƒ™ãƒ«é§†å‹•ã®Kanbanï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œï¼‰ |
| **Hierarchy** | è¦ªå­é–¢ä¿‚ã‚’ãƒ„ãƒªãƒ¼è¡¨ç¤º |

#### List View

```
â”Œâ”€ Tasks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [List] [Board] [Hierarchy]              [+ New Task: n]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filter: [All Status â–¼] [All Type â–¼] [All Priority â–¼]     â”‚
â”‚ Search: [/___________________________________]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ID   Title                    Status       Pri   Type   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–º #1   Setup project structure  open         high  task   â”‚
â”‚ â–º #2   Implement auth           in_progress  high  featureâ”‚
â”‚   â””â”€#3 Add login endpoint       in_progress  med   task   â”‚
â”‚   â””â”€#4 Add logout endpoint      open         med   task   â”‚
â”‚ â–º #5   Write tests              done         low   task   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Board View (Labels)

```
â”Œâ”€ Tasks (Board) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [List] [Board] [Hierarchy]              [+ New Task: n]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ blocked â”€â”€â”€â”€â” â”Œâ”€ needs_review â”€â” â”Œâ”€ ready â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚ â”‚ #4 Logoutâ”‚ â”‚ â”‚ â”‚ #2 Auth   â”‚ â”‚ â”‚ â”‚ #1 Setup   â”‚   â”‚ â”‚
â”‚ â”‚ â”‚ high taskâ”‚ â”‚ â”‚ â”‚ high feat â”‚ â”‚ â”‚ â”‚ low  task  â”‚   â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚              â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚                  â”‚ â”‚
â”‚ â”‚              â”‚ â”‚ â”‚ #3 Login  â”‚ â”‚ â”‚                  â”‚ â”‚
â”‚ â”‚              â”‚ â”‚ â”‚ med  task â”‚ â”‚ â”‚                  â”‚ â”‚
â”‚ â”‚              â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Note:** Boardã¯ãƒ©ãƒ™ãƒ«æ“ä½œç”¨ã€‚statusã¯è¦³æ¸¬äº‹å®Ÿã§è‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹ãŸã‚ã€ãƒ‰ãƒ©ãƒƒã‚°ã§ã¯å¤‰æ›´ã—ãªã„ã€‚
**Note:** ãƒ©ãƒ™ãƒ«ã¯è¡¨ç¤ºåã‚’ãã®ã¾ã¾ä¿å­˜ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ä¸€æ„ã«æ‰±ã†ã€‚ãƒ©ãƒ™ãƒ«å®šç¾©ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã§ç®¡ç†ã—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚»ãƒƒãƒˆã¯å‰Šé™¤/ç·¨é›†å¯èƒ½ã€‚

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ©ãƒ™ãƒ«:**
- `blocked`
- `needs_review`
- `ready`
- `candidate`
- `on_hold`

#### Task Detail (ãƒ¢ãƒ¼ãƒ€ãƒ« or ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«)

```
â”Œâ”€ Task #2: Implement auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              [Edit: e] [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: â— in_progress (auto)  Priority: [high â–¼]          â”‚
â”‚ Type:   [feature â–¼]        Complexity: [7/10]             â”‚
â”‚ Labels: [blocked, needs_review] (editable)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description:                                              â”‚
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚JWT ã‚’ä½¿ç”¨ã€‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Assignee: ai / coder                                      â”‚
â”‚ Selected Session: #123                                    â”‚
â”‚ PR:       https://github.com/.../pull/15                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Parent Task: (none)                                       â”‚
â”‚ Subtasks:                                                 â”‚
â”‚   #3 Add login endpoint      in_progress                  â”‚
â”‚   #4 Add logout endpoint     open                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Session:                                                  â”‚
â”‚   â— Running (coder) - 5m23s                               â”‚
â”‚   [View Session] [Cancel Session]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Created: 2025-01-20 10:00                                 â”‚
â”‚ Updated: 2025-01-20 14:30                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Sessions

```
â”Œâ”€ Sessions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [All] [Running: 2] [Completed: 10] [Failed: 1]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ â”Œâ”€ Running â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â— Task#3 "Add login endpoint"                       â”‚   â”‚
â”‚ â”‚   Agent: coder â”‚ Started: 14:30 â”‚ Duration: 5m23s   â”‚   â”‚
â”‚ â”‚   [View Details] [Cancel]                           â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ â— Task#7 "Review PR"                                â”‚   â”‚
â”‚ â”‚   Agent: reviewer â”‚ Started: 14:35 â”‚ Duration: 2m   â”‚   â”‚
â”‚ â”‚   [View Details] [Cancel]                           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€ Recent Completed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ âœ“ Task#2 "Setup DB" â”‚ coder â”‚ 12m â”‚ merged          â”‚   â”‚
â”‚ â”‚   Artifacts: 3 files changed                        â”‚   â”‚
â”‚ â”‚   [View Details] [Delete]                           â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ âœ— Task#6 "Fix bug" â”‚ coder â”‚ 8m â”‚ failed            â”‚   â”‚
â”‚ â”‚   Error: timeout                                    â”‚   â”‚
â”‚ â”‚   [View Details] [Delete] [Retry]                   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Session Detail

```
â”Œâ”€ Session: Task#3 "Add login endpoint" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: â— Running                                         â”‚
â”‚ Agent:  coder (claude-code / opus)                        â”‚
â”‚ Group:  exp-202501                                        â”‚
â”‚ Started: 2025-01-20 14:30:00                              â”‚
â”‚ Duration: 5m23s (updating...)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DoD Result: pending                                       â”‚
â”‚ Exit Code: -                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Artifacts: (none yet)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Error: (none)                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        [Cancel Session]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Agentsï¼ˆãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰

#### UIè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰

```
â”Œâ”€ Agents â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [+ New Agent: n]                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ â”Œâ”€ coder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ                         â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Client: claude-code    Model: opus                  â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Scope:                                              â”‚   â”‚
â”‚ â”‚   Read:    src/**, docs/**, tests/**                â”‚   â”‚
â”‚ â”‚   Write:   src/**, tests/**                         â”‚   â”‚
â”‚ â”‚   Exclude: **/*.env, **/secrets/**                  â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ [Edit UI] [Edit YAML] [View Prompt]                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€ reviewer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ                       â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Client: claude-code    Model: sonnet                â”‚   â”‚
â”‚ â”‚ ...                                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### UIç·¨é›†ãƒ¢ãƒ¼ãƒ‰

```
â”Œâ”€ Edit Agent: coder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [UI Editor] [YAML Editor]                    [Save: âŒ˜S]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ Name:        [coder                    ]                  â”‚
â”‚ Description: [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ]                â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Execution â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Client:      [claude-code â–¼]                              â”‚
â”‚ Model:       [opus â–¼]                                     â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Scope â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Read:        [src/**, docs/**, tests/**    ] [+ Add]      â”‚
â”‚ Write:       [src/**, tests/**             ] [+ Add]      â”‚
â”‚ Exclude:     [**/*.env, **/secrets/**      ] [+ Add]      â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Temperature: [0.7    ]  (0.0 - 1.0)                       â”‚
â”‚ Max Tokens:  [4096   ]                                    â”‚
â”‚ Prompt:     [Edit Prompt (Markdown)]                     â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              [Cancel: Esc] [Save: âŒ˜S]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### YAMLç·¨é›†ãƒ¢ãƒ¼ãƒ‰

```
â”Œâ”€ Edit Agent: coder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [UI Editor] [YAML Editor]                    [Save: âŒ˜S]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1 â”‚ # agentmine://agents/coder.yaml (DB-backed YAML)     â”‚
â”‚  2 â”‚ name: coder                                          â”‚
â”‚  3 â”‚ description: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ              â”‚
â”‚  4 â”‚                                                      â”‚
â”‚  5 â”‚ client: claude-code                                  â”‚
â”‚  6 â”‚ model: opus                                          â”‚
â”‚  7 â”‚                                                      â”‚
â”‚  8 â”‚ scope:                                               â”‚
â”‚  9 â”‚   read:                                              â”‚
â”‚ 10 â”‚     - "src/**"                                       â”‚
â”‚ 11 â”‚     - "docs/**"                                      â”‚
â”‚ 12 â”‚     - "tests/**"                                     â”‚
â”‚ 13 â”‚   write:                                             â”‚
â”‚ 14 â”‚     - "src/**"                                       â”‚
â”‚ 15 â”‚     - "tests/**"                                     â”‚
â”‚ 16 â”‚   exclude:                                           â”‚
â”‚ 17 â”‚     - "**/*.env"                                     â”‚
â”‚ 18 â”‚     - "**/secrets/**"                                â”‚
â”‚ 19 â”‚                                                      â”‚
â”‚ 20 â”‚ config:                                              â”‚
â”‚ 21 â”‚   temperature: 0.7                                   â”‚
â”‚ 22 â”‚   maxTokens: 4096                                    â”‚
â”‚ 23 â”‚ promptContent: |                                     â”‚
â”‚ 24 â”‚   # ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“                                 â”‚
â”‚ 25 â”‚   å…·ä½“çš„ãªæŒ‡ç¤ºã¯ã“ã“ã«è¨˜è¿°ã™ã‚‹                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ YAML Valid âœ“                 [Cancel: Esc] [Save: âŒ˜S]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Memory Bank

```
â”Œâ”€ Memory Bank â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [+ New Memory: n]                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ architecture/    â”‚  # Monorepo Architecture            â”‚
â”‚   â””â”€ 001-monorepo   â”‚                                     â”‚
â”‚   â””â”€ 002-database   â”‚  ## æ±ºå®šäº‹é …                        â”‚
â”‚ ğŸ“ tooling/         â”‚                                     â”‚
â”‚   â””â”€ 001-vitest     â”‚  pnpm + Turborepo ã‚’ä½¿ç”¨ã™ã‚‹ã€‚      â”‚
â”‚ ğŸ“ convention/      â”‚                                     â”‚
â”‚   â””â”€ 001-commit     â”‚  ## ç†ç”±                            â”‚
â”‚                     â”‚                                     â”‚
â”‚ [+ New Folder]      â”‚  - CLI/Web/Coreã§å‹å®šç¾©ã‚’å…±æœ‰       â”‚
â”‚                     â”‚  - Turborepoã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é«˜é€Ÿãƒ“ãƒ«ãƒ‰ â”‚
â”‚                     â”‚  - ä¸€è²«ã—ãŸãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒ       â”‚
â”‚                     â”‚                                     â”‚
â”‚                     â”‚  ## å‚è€ƒ                            â”‚
â”‚                     â”‚                                     â”‚
â”‚                     â”‚  - [Turborepo Docs](https://...)    â”‚
â”‚                     â”‚                                     â”‚
â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚              [Save: âŒ˜S] [Delete: d] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½:**
- å·¦ãƒšã‚¤ãƒ³: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ï¼ˆã‚«ãƒ†ã‚´ãƒª/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- å³ãƒšã‚¤ãƒ³: Markdownã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ï¼‰
- æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€/ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†ãƒ»ä¿å­˜

### 6. Settingsï¼ˆãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰

#### UIç·¨é›†ãƒ¢ãƒ¼ãƒ‰

```
â”Œâ”€ Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [UI Editor] [YAML Editor]                    [Save: âŒ˜S]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Project â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Name:        [my-project               ]                  â”‚
â”‚ Description: [AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«   ]                 â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Database â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ URL:         [file:./data.db           ]                  â”‚
â”‚              â—‹ SQLite (local)  â—‹ PostgreSQL               â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Git â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Base Branch:    [main                  ]                  â”‚
â”‚ Branch Prefix:  [task-                 ]                  â”‚
â”‚ Commit Convention:                                        â”‚
â”‚   [âœ“] Enabled   Format: [conventional â–¼]                  â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Execution â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Parallel Execution:                                       â”‚
â”‚   [âœ“] Enabled   Max Workers: [4    ]                      â”‚
â”‚   Worktree Path: [.agentmine/worktrees/          ]                  â”‚
â”‚   [âœ“] Cleanup after completion                            â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Session Log â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ Retention:                                                â”‚
â”‚   [ ] Enabled   Days: [30   ]                             â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              [Cancel: Esc] [Save: âŒ˜S]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### YAMLç·¨é›†ãƒ¢ãƒ¼ãƒ‰

```
â”Œâ”€ Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [UI Editor] [YAML Editor]                    [Save: âŒ˜S]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1 â”‚ # agentmine://settings.yaml (DB-backed YAML)         â”‚
â”‚  2 â”‚ project:                                             â”‚
â”‚  3 â”‚   name: my-project                                   â”‚
â”‚  4 â”‚   description: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«               â”‚
â”‚  5 â”‚                                                      â”‚
â”‚  6 â”‚ database:                                            â”‚
â”‚  7 â”‚   url: file:./data.db                                â”‚
â”‚  8 â”‚                                                      â”‚
â”‚  9 â”‚ git:                                                 â”‚
â”‚ 10 â”‚   baseBranch: main                                   â”‚
â”‚ 11 â”‚   branchPrefix: task-                                â”‚
â”‚ 12 â”‚   commitConvention:                                  â”‚
â”‚ 13 â”‚     enabled: true                                    â”‚
â”‚ 14 â”‚     format: conventional                             â”‚
â”‚ 15 â”‚                                                      â”‚
â”‚ 16 â”‚ execution:                                           â”‚
â”‚ 17 â”‚   parallel:                                          â”‚
â”‚ 18 â”‚     enabled: true                                    â”‚
â”‚ 19 â”‚     maxWorkers: 4                                    â”‚
â”‚ 20 â”‚     worktree:                                        â”‚
â”‚ 21 â”‚       path: .agentmine/worktrees/                              â”‚
â”‚ 22 â”‚       cleanup: true                                  â”‚
â”‚ 23 â”‚                                                      â”‚
â”‚ 24 â”‚ sessionLog:                                          â”‚
â”‚ 25 â”‚   retention:                                         â”‚
â”‚ 26 â”‚     enabled: false                                   â”‚
â”‚ 27 â”‚     days: 30                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ YAML Valid âœ“                 [Cancel: Esc] [Save: âŒ˜S]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Note:** è¨­å®šã¯DBã«ä¿å­˜ã•ã‚Œã€YAMLã‚¨ãƒ‡ã‚£ã‚¿ã¯DB-backedãƒ‡ãƒ¼ã‚¿ã‚’ç·¨é›†ã™ã‚‹ã€‚

## ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ

`Cmd/Ctrl + K` ã§èµ·å‹•ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã€‚å…¨æ©Ÿèƒ½ã¸ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ > _                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Create new task                                   n    â”‚
â”‚ ğŸ“‹ View all tasks                                   g t   â”‚
â”‚ ğŸ” Search tasks...                                   /    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â–¶ï¸  Start session for task...                             â”‚
â”‚ â¹ï¸  Cancel running session...                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ¤– View agents                                      g a   â”‚
â”‚ â• Create new agent                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ“ Create new memory                                      â”‚
â”‚ ğŸ“š View memory bank                                 g m   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ âš™ï¸  Settings                                        g ,   â”‚
â”‚ â“ Keyboard shortcuts                                ?    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ã‚¨ãƒ‡ã‚£ã‚¿ãƒ»Linterã‚·ã‚¹ãƒ†ãƒ ï¼ˆVSCodeç´šï¼‰

### è¨­è¨ˆæ–¹é‡

AIå‘ã‘ã®è¨­å®šãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç·¨é›†ã™ã‚‹ä»¥ä¸Šã€**VSCodeåŒç­‰ã®å“è³ª**ã‚’ç›®æŒ‡ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VSCodeç´šã‚¨ãƒ‡ã‚£ã‚¿ã®è¦ä»¶                                     â”‚
â”‚                                                             â”‚
â”‚  âœ“ Monaco Editorï¼ˆVSCodeã¨åŒã˜ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰                    â”‚
â”‚  âœ“ JSON Schemaã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œè¨¼                        â”‚
â”‚  âœ“ IntelliSenseï¼ˆè£œå®Œãƒ»ãƒ›ãƒãƒ¼æƒ…å ±ï¼‰                        â”‚
â”‚  âœ“ å…¥åŠ›ä¸­ã®ã‚¨ãƒ©ãƒ¼ãƒã‚¤ãƒ©ã‚¤ãƒˆ                                 â”‚
â”‚  âœ“ Prettierçµ±åˆã®è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                           â”‚
â”‚  âœ“ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå°‚ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ Lint                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç·¨é›†å¯¾è±¡ã¨æ¤œè¨¼è¦ä»¶

| å¯¾è±¡ | å½¢å¼ | ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ | ã‚«ã‚¹ã‚¿ãƒ Lint | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ |
|------|------|:------------:|:------------:|:------------:|
| Agentå®šç¾© | YAML | âœ“ JSON Schema | - | âœ“ Prettier |
| Config | YAML | âœ“ JSON Schema | - | âœ“ Prettier |
| Prompts | Markdown | - | âœ“ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•° | âœ“ Prettier |
| Memory Bank | Markdown | - | âœ“ æ§‹é€ æ¤œè¨¼ | âœ“ Prettier |

---

### 1. Monaco Editorã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### åŸºæœ¬æ§‹æˆ

```typescript
// packages/web/src/components/editor/monaco-editor.tsx
import { Editor, OnMount } from '@monaco-editor/react'
import { configureMonaco } from '@/lib/editor/monaco-config'

interface MonacoEditorProps {
  language: 'yaml' | 'markdown'
  value: string
  onChange: (value: string) => void
  schema?: object  // JSON Schema for validation
  onValidate?: (markers: Marker[]) => void
}

export function MonacoEditor({
  language,
  value,
  onChange,
  schema,
  onValidate
}: MonacoEditorProps) {
  const handleMount: OnMount = (editor, monaco) => {
    // ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã‚’é©ç”¨
    configureMonaco(monaco, { language, schema })

    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œè¨¼
    editor.onDidChangeModelContent(() => {
      const markers = monaco.editor.getModelMarkers({})
      onValidate?.(markers)
    })
  }

  return (
    <Editor
      height="100%"
      language={language}
      value={value}
      onChange={(v) => onChange(v ?? '')}
      onMount={handleMount}
      theme="agentmine-dark"
      options={{
        minimap: { enabled: false },
        fontSize: 14,
        lineNumbers: 'on',
        wordWrap: 'on',
        formatOnPaste: true,
        formatOnType: true,
        tabSize: 2,
        quickSuggestions: true,
        suggestOnTriggerCharacters: true,
      }}
    />
  )
}
```

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ

```typescript
// packages/web/src/lib/editor/themes.ts
export const agentmineDarkTheme = {
  base: 'vs-dark',
  inherit: true,
  rules: [
    { token: 'key', foreground: '9CDCFE' },      // YAML keys
    { token: 'string', foreground: 'CE9178' },   // strings
    { token: 'number', foreground: 'B5CEA8' },   // numbers
    { token: 'comment', foreground: '6A9955' },  // comments
    { token: 'keyword', foreground: 'C586C0' },  // keywords
  ],
  colors: {
    'editor.background': '#1e1e2e',
    'editor.foreground': '#cdd6f4',
    'editor.lineHighlightBackground': '#313244',
    'editorError.foreground': '#f38ba8',
    'editorWarning.foreground': '#fab387',
  }
}
```

---

### 2. JSON Schemaã«ã‚ˆã‚‹æ¤œè¨¼

#### Agentå®šç¾©ã‚¹ã‚­ãƒ¼ãƒ

```typescript
// packages/web/src/lib/editor/schemas/agent-schema.ts
export const agentSchema = {
  $schema: 'http://json-schema.org/draft-07/schema#',
  type: 'object',
  required: ['name', 'client'],
  properties: {
    name: {
      type: 'string',
      description: 'ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåï¼ˆè‹±æ•°å­—ã€ãƒã‚¤ãƒ•ãƒ³ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ï¼‰',
      pattern: '^[a-zA-Z][a-zA-Z0-9_-]*$',
    },
    description: {
      type: 'string',
      description: 'ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®èª¬æ˜',
    },
    client: {
      type: 'string',
      enum: ['claude-code', 'codex', 'aider', 'gemini', 'opencode'],
      description: 'AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ',
    },
    model: {
      type: 'string',
      description: 'ãƒ¢ãƒ‡ãƒ«åï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¾å­˜ï¼‰',
    },
    scope: {
      type: 'object',
      properties: {
        read: {
          type: 'array',
          items: { type: 'string' },
          description: 'èª­ã¿å–ã‚Šå¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆglobï¼‰',
        },
        write: {
          type: 'array',
          items: { type: 'string' },
          description: 'æ›¸ãè¾¼ã¿å¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆglobï¼‰',
        },
        exclude: {
          type: 'array',
          items: { type: 'string' },
          description: 'é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆglobï¼‰',
        },
      },
    },
    config: {
      type: 'object',
      properties: {
        temperature: {
          type: 'number',
          minimum: 0,
          maximum: 2,
          description: 'ç”Ÿæˆã®å¤šæ§˜æ€§ï¼ˆ0.0-2.0ï¼‰',
        },
        maxTokens: {
          type: 'integer',
          minimum: 1,
          description: 'æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°',
        },
        promptContent: {
          type: 'string',
          description: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ¬æ–‡ï¼ˆMarkdownï¼‰',
        },
      },
    },
  },
  additionalProperties: false,
}
```

#### ã‚¹ã‚­ãƒ¼ãƒç™»éŒ²

```typescript
// packages/web/src/lib/editor/monaco-config.ts
import { agentSchema } from './schemas/agent-schema'
import { configSchema } from './schemas/config-schema'

export function configureMonaco(monaco: Monaco, options: ConfigOptions) {
  // YAMLè¨€èªè¨­å®š
  monaco.languages.yaml?.yamlDefaults.setDiagnosticsOptions({
    validate: true,
    enableSchemaRequest: true,
    schemas: [
      {
        uri: 'agentmine://schemas/agent.json',
        fileMatch: ['agentmine://agents/*.yaml', 'agentmine://agents/*.yml'],
        schema: agentSchema,
      },
      {
        uri: 'agentmine://schemas/config.json',
        fileMatch: ['agentmine://settings.yaml', 'agentmine://settings.yml'],
        schema: configSchema,
      },
    ],
  })
}
```

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

```
â”Œâ”€ Edit Agent: coder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [UI Editor] [YAML Editor]          [Format: âŒ˜â‡§F] [Save]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1 â”‚ name: coder                                          â”‚
â”‚  2 â”‚ client: gpt-5          â† âš  æœªçŸ¥ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ       â”‚
â”‚    â”‚         ~~~~~                                        â”‚
â”‚  3 â”‚ model: opus                                          â”‚
â”‚  4 â”‚ scope:                                               â”‚
â”‚  5 â”‚   read:                                              â”‚
â”‚  6 â”‚     - "src/**"                                       â”‚
â”‚  7 â”‚   write                 â† âœ— Expected ':'             â”‚
â”‚    â”‚         ~~~~~                                        â”‚
â”‚  8 â”‚     - "src/**"                                       â”‚
â”‚  9 â”‚   exclude:                                           â”‚
â”‚ 10 â”‚     - "**/*.env"                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Problems (2)                                              â”‚
â”‚ âš  Line 2: "gpt-5" is not one of: claude-code, codex...   â”‚
â”‚ âœ— Line 7: Expected ':' after property name               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. IntelliSenseï¼ˆè£œå®Œãƒ»ãƒ›ãƒãƒ¼ï¼‰

#### è‡ªå‹•è£œå®Œ

```typescript
// packages/web/src/lib/editor/completions.ts
export function registerAgentCompletions(monaco: Monaco) {
  monaco.languages.registerCompletionItemProvider('yaml', {
    provideCompletionItems: (model, position) => {
      const suggestions: CompletionItem[] = []

      // client ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è£œå®Œ
      if (isInClientField(model, position)) {
        suggestions.push(
          { label: 'claude-code', detail: 'Claude Code CLI', insertText: 'claude-code' },
          { label: 'codex', detail: 'OpenAI Codex CLI', insertText: 'codex' },
          { label: 'aider', detail: 'Aider AI coding assistant', insertText: 'aider' },
          { label: 'gemini', detail: 'Google Gemini CLI', insertText: 'gemini' },
          { label: 'opencode', detail: 'OpenCode CLI', insertText: 'opencode' },
        )
      }

      // scope ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è£œå®Œ
      if (isInScopeField(model, position)) {
        suggestions.push(
          { label: '**/*', detail: 'å…¨ãƒ•ã‚¡ã‚¤ãƒ«', insertText: '"**/*"' },
          { label: 'src/**', detail: 'srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª', insertText: '"src/**"' },
          { label: 'tests/**', detail: 'testsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª', insertText: '"tests/**"' },
          { label: '**/*.env', detail: 'ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«', insertText: '"**/*.env"' },
        )
      }

      return { suggestions }
    }
  })
}
```

#### ãƒ›ãƒãƒ¼æƒ…å ±

```typescript
// packages/web/src/lib/editor/hover.ts
export function registerAgentHover(monaco: Monaco) {
  monaco.languages.registerHoverProvider('yaml', {
    provideHover: (model, position) => {
      const word = model.getWordAtPosition(position)

      if (word?.word === 'claude-code') {
        return {
          contents: [
            { value: '**Claude Code CLI**' },
            { value: 'Anthropicã®å…¬å¼Claude CLIãƒ„ãƒ¼ãƒ«ã€‚\n\nè‡ªå‹•æ‰¿èª: `--dangerously-skip-permissions`' },
          ]
        }
      }

      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜
      if (word?.word === 'scope') {
        return {
          contents: [
            { value: '**scope** - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡è¨­å®š' },
            { value: '`read`: èª­ã¿å–ã‚Šå¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«\n`write`: æ›¸ãè¾¼ã¿å¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«\n`exclude`: å®Œå…¨ã«é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«' },
          ]
        }
      }

      return null
    }
  })
}
```

```
â”Œâ”€ Edit Agent: coder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1 â”‚ name: coder                                          â”‚
â”‚  2 â”‚ client: claude-code                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚              â”‚ Claude Code CLI                        â”‚   â”‚
â”‚              â”‚                                        â”‚   â”‚
â”‚              â”‚ Anthropicã®å…¬å¼Claude CLIãƒ„ãƒ¼ãƒ«ã€‚      â”‚   â”‚
â”‚              â”‚                                        â”‚   â”‚
â”‚              â”‚ è‡ªå‹•æ‰¿èª:                              â”‚   â”‚
â”‚              â”‚ --dangerously-skip-permissions         â”‚   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  3 â”‚ model: opus                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå°‚ç”¨Linter

#### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°æ¤œè¨¼

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ï¼ˆ`{{task.title}}` ãªã©ï¼‰ã‚’æ¤œè¨¼ã€‚

```typescript
// packages/web/src/lib/editor/prompt-linter.ts
const VALID_VARIABLES = [
  'task.id',
  'task.title',
  'task.description',
  'task.status',
  'agent.name',
  'agent.description',
  'memory.content',
  'session.id',
  'worktree.path',
]

export function lintPrompt(content: string): Diagnostic[] {
  const diagnostics: Diagnostic[] = []

  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ã‚’æ¤œå‡º
  const variableRegex = /\{\{([^}]+)\}\}/g
  let match

  while ((match = variableRegex.exec(content)) !== null) {
    const variable = match[1].trim()

    if (!VALID_VARIABLES.includes(variable)) {
      diagnostics.push({
        severity: 'warning',
        message: `Unknown template variable: {{${variable}}}`,
        startLine: getLineNumber(content, match.index),
        startColumn: getColumnNumber(content, match.index),
        endColumn: getColumnNumber(content, match.index + match[0].length),
        source: 'prompt-linter',
        suggestions: getSimilarVariables(variable),
      })
    }
  }

  return diagnostics
}
```

#### Markdownæ§‹é€ æ¤œè¨¼

```typescript
// packages/web/src/lib/editor/markdown-linter.ts
export function lintMarkdown(content: string, type: 'prompt' | 'memory'): Diagnostic[] {
  const diagnostics: Diagnostic[] = []

  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«
  if (type === 'prompt') {
    // å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒã‚§ãƒƒã‚¯
    if (!content.includes('## ã‚¿ã‚¹ã‚¯') && !content.includes('## Task')) {
      diagnostics.push({
        severity: 'info',
        message: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¯ã€Œ## ã‚¿ã‚¹ã‚¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å«ã‚ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™',
        startLine: 1,
        startColumn: 1,
        source: 'markdown-linter',
      })
    }

    // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ³¨å…¥ãƒã‚¤ãƒ³ãƒˆ
    if (!content.includes('{{memory.content}}')) {
      diagnostics.push({
        severity: 'info',
        message: 'Memory Bankã®å†…å®¹ã‚’æ³¨å…¥ã™ã‚‹ã«ã¯ {{memory.content}} ã‚’ä½¿ç”¨ã—ã¾ã™',
        startLine: 1,
        startColumn: 1,
        source: 'markdown-linter',
      })
    }
  }

  // Memory Bankå›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«
  if (type === 'memory') {
    // æ±ºå®šäº‹é …ã®æ˜ç¢ºåŒ–
    if (!content.includes('æ±ºå®š') && !content.includes('Decision')) {
      diagnostics.push({
        severity: 'info',
        message: 'Memory Bankã«ã¯æ±ºå®šäº‹é …ã‚’æ˜è¨˜ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™',
        startLine: 1,
        startColumn: 1,
        source: 'markdown-linter',
      })
    }
  }

  return diagnostics
}
```

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›†UI

```
â”Œâ”€ Edit Prompt: agentmine://prompts/coder.md â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Edit] [Preview] [Variables]       [Format: âŒ˜â‡§F] [Save]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1 â”‚ # {{agent.name}} ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ                          â”‚
â”‚  2 â”‚                                                      â”‚
â”‚  3 â”‚ ## ã‚¿ã‚¹ã‚¯                                            â”‚
â”‚  4 â”‚                                                      â”‚
â”‚  5 â”‚ **ã‚¿ã‚¤ãƒˆãƒ«**: {{task.title}}                         â”‚
â”‚  6 â”‚ **èª¬æ˜**: {{task.description}}                       â”‚
â”‚  7 â”‚                                                      â”‚
â”‚  8 â”‚ ## ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ                                      â”‚
â”‚  9 â”‚                                                      â”‚
â”‚ 10 â”‚ {{memory.content}}                                   â”‚
â”‚ 11 â”‚                                                      â”‚
â”‚ 12 â”‚ ## åˆ¶ç´„                                              â”‚
â”‚ 13 â”‚                                                      â”‚
â”‚ 14 â”‚ - {{task.scope}} å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç·¨é›†å¯èƒ½            â”‚
â”‚        ~~~~~~~~~~~~ âš  Unknown variable                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Problems (1)                                              â”‚
â”‚ âš  Line 14: Unknown template variable: {{task.scope}}     â”‚
â”‚            Did you mean: task.status?                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Available Variables:                                      â”‚
â”‚ task.id, task.title, task.description, task.status,      â”‚
â”‚ agent.name, agent.description, memory.content, ...       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

#### Prettierçµ±åˆ

```typescript
// packages/web/src/lib/editor/formatter.ts
import * as prettier from 'prettier/standalone'
import * as yamlPlugin from 'prettier/plugins/yaml'
import * as markdownPlugin from 'prettier/plugins/markdown'

export async function formatDocument(
  content: string,
  language: 'yaml' | 'markdown'
): Promise<string> {
  const plugins = language === 'yaml'
    ? [yamlPlugin]
    : [markdownPlugin]

  return prettier.format(content, {
    parser: language,
    plugins,
    // YAMLè¨­å®š
    tabWidth: 2,
    singleQuote: true,
    // Markdownè¨­å®š
    proseWrap: 'preserve',
  })
}
```

#### Monacoçµ±åˆ

```typescript
// packages/web/src/lib/editor/monaco-config.ts
export function registerFormatter(monaco: Monaco) {
  // YAML ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿
  monaco.languages.registerDocumentFormattingEditProvider('yaml', {
    async provideDocumentFormattingEdits(model) {
      const formatted = await formatDocument(model.getValue(), 'yaml')
      return [{
        range: model.getFullModelRange(),
        text: formatted,
      }]
    }
  })

  // Markdown ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿
  monaco.languages.registerDocumentFormattingEditProvider('markdown', {
    async provideDocumentFormattingEdits(model) {
      const formatted = await formatDocument(model.getValue(), 'markdown')
      return [{
        range: model.getFullModelRange(),
        text: formatted,
      }]
    }
  })
}
```

#### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¨­å®š

```
â”Œâ”€ Editor Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚ â”€â”€â”€ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                           â”‚
â”‚ [âœ“] ä¿å­˜æ™‚ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                              â”‚
â”‚ [âœ“] è²¼ã‚Šä»˜ã‘æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                              â”‚
â”‚ [ ] å…¥åŠ›æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                                  â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ YAML â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                           â”‚
â”‚ ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ:    [2 spaces â–¼]                               â”‚
â”‚ å¼•ç”¨ç¬¦:        [Single quotes â–¼]                          â”‚
â”‚ è¡Œã®æŠ˜ã‚Šè¿”ã—:  [80 â–¼] æ–‡å­—                                â”‚
â”‚                                                           â”‚
â”‚ â”€â”€â”€ Markdown â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                           â”‚
â”‚ è¡Œã®æŠ˜ã‚Šè¿”ã—:  [preserve â–¼]                               â”‚
â”‚ ãƒ†ãƒ¼ãƒ–ãƒ«æ•´å½¢:  [âœ“] åˆ—å¹…ã‚’æƒãˆã‚‹                           â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. Diagnosticsãƒ‘ãƒãƒ«

å…¨ã‚¨ãƒ©ãƒ¼ãƒ»è­¦å‘Šã‚’ä¸€è¦§è¡¨ç¤ºã™ã‚‹ãƒ‘ãƒãƒ«ã€‚

```
â”Œâ”€ Problems â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [All] [Errors: 1] [Warnings: 3] [Info: 2]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ âœ— agentmine://agents/coder.yaml:7:3                      â”‚
â”‚   Expected ':' after property name                        â”‚
â”‚                                                           â”‚
â”‚ âš  agentmine://agents/coder.yaml:2:9                      â”‚
â”‚   "gpt-5" is not a valid client                           â”‚
â”‚                                                           â”‚
â”‚ âš  agentmine://prompts/coder.md:14:5                      â”‚
â”‚   Unknown template variable: {{task.scope}}               â”‚
â”‚                                                           â”‚
â”‚ âš  agentmine://settings.yaml:15:3                         â”‚
â”‚   "maxWorker" should be "maxWorkers"                      â”‚
â”‚                                                           â”‚
â”‚ â„¹ agentmine://prompts/coder.md:1:1                       â”‚
â”‚   Consider adding a "## ã‚¿ã‚¹ã‚¯" section                   â”‚
â”‚                                                           â”‚
â”‚ â„¹ memory/architecture/001-monorepo.md:1:1                 â”‚
â”‚   Consider adding explicit decision statements            â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ã‚¨ãƒ‡ã‚£ã‚¿ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

| ã‚­ãƒ¼ | æ“ä½œ |
|------|------|
| `Cmd/Ctrl + S` | ä¿å­˜ |
| `Cmd/Ctrl + Shift + F` | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ |
| `Cmd/Ctrl + .` | ã‚¯ã‚¤ãƒƒã‚¯ãƒ•ã‚£ãƒƒã‚¯ã‚¹ |
| `Cmd/Ctrl + Space` | è£œå®Œã‚’è¡¨ç¤º |
| `F2` | ã‚·ãƒ³ãƒœãƒ«åå¤‰æ›´ |
| `F8` | æ¬¡ã®ã‚¨ãƒ©ãƒ¼ã¸ç§»å‹• |
| `Shift + F8` | å‰ã®ã‚¨ãƒ©ãƒ¼ã¸ç§»å‹• |
| `Cmd/Ctrl + Z` | Undo |
| `Cmd/Ctrl + Shift + Z` | Redo |
| `Cmd/Ctrl + /` | ã‚³ãƒ¡ãƒ³ãƒˆãƒˆã‚°ãƒ«ï¼ˆYAMLï¼‰ |
| `Cmd/Ctrl + D` | è¡Œ/é¸æŠã‚’è¤‡è£½ |
| `Alt + â†‘/â†“` | è¡Œã‚’ä¸Šä¸‹ã«ç§»å‹• |
| `Cmd/Ctrl + Shift + K` | è¡Œã‚’å‰Šé™¤ |

---

### ã‚¨ãƒ‡ã‚£ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
packages/web/src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ editor/
â”‚       â”œâ”€â”€ monaco-editor.tsx      # Monacoãƒ©ãƒƒãƒ‘ãƒ¼
â”‚       â”œâ”€â”€ yaml-editor.tsx        # YAMLå°‚ç”¨
â”‚       â”œâ”€â”€ markdown-editor.tsx    # Markdownå°‚ç”¨
â”‚       â”œâ”€â”€ prompt-editor.tsx      # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå°‚ç”¨ï¼ˆå¤‰æ•°è£œå®Œä»˜ãï¼‰
â”‚       â”œâ”€â”€ diagnostics-panel.tsx  # å•é¡Œãƒ‘ãƒãƒ«
â”‚       â””â”€â”€ editor-toolbar.tsx     # ãƒ„ãƒ¼ãƒ«ãƒãƒ¼
â”‚
â””â”€â”€ lib/
    â””â”€â”€ editor/
        â”œâ”€â”€ monaco-config.ts       # Monacoè¨­å®š
        â”œâ”€â”€ themes.ts              # ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ
        â”œâ”€â”€ schemas/
        â”‚   â”œâ”€â”€ agent-schema.ts    # Agent YAML Schema
        â”‚   â””â”€â”€ config-schema.ts   # Config YAML Schema
        â”œâ”€â”€ completions.ts         # è‡ªå‹•è£œå®Œ
        â”œâ”€â”€ hover.ts               # ãƒ›ãƒãƒ¼æƒ…å ±
        â”œâ”€â”€ prompt-linter.ts       # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆLint
        â”œâ”€â”€ markdown-linter.ts     # Markdown Lint
        â””â”€â”€ formatter.ts           # Prettierçµ±åˆ
```

---

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿é–¢é€£ï¼‰

| æ©Ÿèƒ½ | ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
|------|------------|
| ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ | [@monaco-editor/react](https://github.com/suren-atoyan/monaco-react) |
| YAMLæ¤œè¨¼ | [monaco-yaml](https://github.com/remcohaszing/monaco-yaml) |
| JSON Schema | å†…è”µï¼ˆMonaco YAMLçµ±åˆï¼‰ |
| ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | [Prettier](https://prettier.io/) (standalone) |
| YAMLè§£æ | [yaml](https://github.com/eemeli/yaml) |
| Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | [react-markdown](https://github.com/remarkjs/react-markdown) |

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| æ©Ÿèƒ½ | ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
|------|------------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js 14+ (App Router) |
| UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | shadcn/ui + Tailwind CSS |
| ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ | [cmdk](https://cmdk.paco.me/) |
| ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ | [react-hotkeys-hook](https://github.com/JohannesKlausszi/react-hotkeys-hook) |
| ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ | [Monaco Editor](https://microsoft.github.io/monaco-editor/) |
| Markdownã‚¨ãƒ‡ã‚£ã‚¿ | Monaco Editor (markdown mode) |
| YAMLãƒ‘ãƒ¼ã‚µãƒ¼ | [yaml](https://github.com/eemeli/yaml) |
| YAML Lint | [yaml](https://github.com/eemeli/yaml) + ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ |
| Markdown ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | [prettier](https://prettier.io/) (markdown parser) |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° | Server-Sent Events |
| çŠ¶æ…‹ç®¡ç† | React Server Components + SWR |
| ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ | Tailwind CSS dark variant |
| ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— | [@dnd-kit](https://dndkit.com/) |

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx                # Dashboard
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Tasksä¸€è¦§
â”‚   â”‚   â””â”€â”€ [id]/page.tsx       # Taskè©³ç´°
â”‚   â”œâ”€â”€ sessions/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Sessionsä¸€è¦§
â”‚   â”‚   â””â”€â”€ [id]/page.tsx       # Sessionè©³ç´°
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Agentsä¸€è¦§
â”‚   â”‚   â””â”€â”€ [name]/page.tsx     # Agentç·¨é›†
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â””â”€â”€ page.tsx            # Memory Bank
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ page.tsx            # Settings
â”‚   â””â”€â”€ api/                    # API Routes
â”‚       â”œâ”€â”€ tasks/
â”‚       â”œâ”€â”€ sessions/
â”‚       â”œâ”€â”€ agents/
â”‚       â”œâ”€â”€ memory/
â”‚       â””â”€â”€ settings/
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ sidebar.tsx         # ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“
â”‚   â”‚   â”œâ”€â”€ header.tsx          # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”‚   â””â”€â”€ command-palette.tsx # ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ task-list.tsx       # ãƒªã‚¹ãƒˆè¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ task-board.tsx      # ãƒœãƒ¼ãƒ‰è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ task-hierarchy.tsx  # éšå±¤è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ task-card.tsx       # ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ task-form.tsx       # ä½œæˆ/ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”œâ”€â”€ sessions/
â”‚   â”‚   â”œâ”€â”€ session-list.tsx
â”‚   â”‚   â””â”€â”€ session-detail.tsx
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ agent-list.tsx
â”‚   â”‚   â”œâ”€â”€ agent-card.tsx
â”‚   â”‚   â”œâ”€â”€ agent-ui-editor.tsx   # UIç·¨é›†
â”‚   â”‚   â””â”€â”€ agent-yaml-editor.tsx # YAMLç·¨é›†
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”œâ”€â”€ memory-tree.tsx     # ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼
â”‚   â”‚   â””â”€â”€ memory-editor.tsx   # Markdownã‚¨ãƒ‡ã‚£ã‚¿
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ settings-ui.tsx     # UIç·¨é›†
â”‚   â”‚   â””â”€â”€ settings-yaml.tsx   # YAMLç·¨é›†
â”‚   â””â”€â”€ editor/
â”‚       â”œâ”€â”€ monaco-wrapper.tsx  # Monacoå…±é€šãƒ©ãƒƒãƒ‘ãƒ¼
â”‚       â””â”€â”€ yaml-editor.tsx     # YAMLå°‚ç”¨
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-keyboard.ts         # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
â”‚   â”œâ”€â”€ use-tasks.ts            # ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ use-sessions.ts         # ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ use-realtime.ts         # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
â”‚
â””â”€â”€ lib/
    â”œâ”€â”€ api.ts                  # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
    â””â”€â”€ shortcuts.ts            # ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå®šç¾©
```

## å„ªå…ˆåº¦

| å„ªå…ˆåº¦ | ç”»é¢/æ©Ÿèƒ½ |
|--------|-----------|
| **P0** | Dashboardã€Tasks (List)ã€åŸºæœ¬ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ |
| **P1** | Sessionsç›£è¦–ã€Taskè©³ç´°ãƒ»ç·¨é›†ã€ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ |
| **P2** | Agents (UI/YAMLç·¨é›†)ã€Tasks (Board View) |
| **P3** | Memory Bankã€Settings (UI/YAMLç·¨é›†) |
| **P4** | Tasks (Hierarchy View)ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å®Œå…¨å¯¾å¿œ |

## å‚è€ƒ: æ—¢å­˜ãƒ„ãƒ¼ãƒ«UIèª¿æŸ»

### Linear
- ãƒŸãƒ‹ãƒãƒ«ã€é«˜é€Ÿã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ‰ãƒªãƒ–ãƒ³ï¼ˆ`Cmd+K`ï¼‰
- è¦–è¦šçš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã€æ©Ÿèƒ½ã‚ˆã‚Šä½¿ã„ã‚„ã™ã•å„ªå…ˆ

### Notion
- è¤‡æ•°ãƒ“ãƒ¥ãƒ¼ï¼ˆTable, Board, Timeline, Calendarï¼‰
- åŒä¸€ãƒ‡ãƒ¼ã‚¿ã‚’ç•°ãªã‚‹è¦–ç‚¹ã§è¡¨ç¤º

### VSCode
- UIè¨­å®šã¨JSONç›´ç·¨é›†ã®ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ¢ãƒ¼ãƒ‰
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå¼·åŠ›

### CrewAI / SuperAGI
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ´»å‹•ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

---

## å®Ÿè£…è¨ˆç”»

### Phase 1: P0 - åŸºç›¤æ§‹ç¯‰ï¼ˆMVPï¼‰

**ç›®æ¨™:** åŸºæœ¬çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¿ã‚¹ã‚¯ä¸€è¦§è¡¨ç¤º

| Step | å†…å®¹ | æˆæœç‰© |
|------|------|--------|
| 1.1 | Next.js + shadcn/ui åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | packages/web åŸºæœ¬æ§‹é€  |
| 1.2 | åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ˜ãƒƒãƒ€ãƒ¼ |
| 1.3 | ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ | `Cmd+K` ã§èµ·å‹• |
| 1.4 | ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ | ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ |
| 1.5 | Dashboard | çµ±è¨ˆã‚«ãƒ¼ãƒ‰ã€æœ€è¿‘ã®ã‚¿ã‚¹ã‚¯ |
| 1.6 | Tasks List View | ä¸€è¦§è¡¨ç¤ºã€ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚½ãƒ¼ãƒˆ |
| 1.7 | @coreé€£æº | API RoutesçµŒç”±ã§DBæ¥ç¶š |

### Phase 2: P1 - ã‚¿ã‚¹ã‚¯ç®¡ç†

**ç›®æ¨™:** ã‚¿ã‚¹ã‚¯ã®CRUDæ“ä½œã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç›£è¦–

| Step | å†…å®¹ |
|------|------|
| 2.1 | Taskè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«/ãƒ‘ãƒãƒ« |
| 2.2 | Taskä½œæˆãƒ•ã‚©ãƒ¼ãƒ  |
| 2.3 | Taskç·¨é›†ãƒ»å‰Šé™¤ |
| 2.4 | Sessionsä¸€è¦§ |
| 2.5 | Sessionè©³ç´°ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰ |
| 2.6 | ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆj/k/Enter/Escï¼‰ |

### Phase 3: P2 - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†

**ç›®æ¨™:** ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šã®UI/YAMLç·¨é›†

| Step | å†…å®¹ |
|------|------|
| 3.1 | Agentsä¸€è¦§ |
| 3.2 | Agent UIç·¨é›†ãƒ¢ãƒ¼ãƒ‰ |
| 3.3 | Agent YAMLç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼ˆMonaco Editorï¼‰ |
| 3.4 | Tasks Board View |
| 3.5 | ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— |

### Phase 4: P3 - Memory Bank & Settings

**ç›®æ¨™:** å…¨æ©Ÿèƒ½ã®Web UIå®Œçµ

| Step | å†…å®¹ |
|------|------|
| 4.1 | Memory Bankãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ |
| 4.2 | Markdownã‚¨ãƒ‡ã‚£ã‚¿ |
| 4.3 | Settings UIç·¨é›† |
| 4.4 | Settings YAMLç·¨é›† |
| 4.5 | è‡ªå‹•Lint & ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ |

### Phase 5: P4 - å®Œæˆåº¦å‘ä¸Š

**ç›®æ¨™:** UXæ”¹å–„ã¨å®Œå…¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å¯¾å¿œ

| Step | å†…å®¹ |
|------|------|
| 5.1 | Tasks Hierarchy View |
| 5.2 | å…¨ç”»é¢ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å¯¾å¿œ |
| 5.3 | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒ˜ãƒ«ãƒ—ï¼ˆ`?`ï¼‰ |
| 5.4 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– |
| 5.5 | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ |

---

## æŠ€è¡“è©³ç´°: Phase 1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1.1 Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```bash
cd packages
pnpm create next-app@latest web --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
```

### 1.2 shadcn/ui ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd web
pnpm dlx shadcn@latest init
pnpm dlx shadcn@latest add button card input label dialog dropdown-menu command
```

### 1.3 è¿½åŠ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

```bash
pnpm add cmdk react-hotkeys-hook swr
pnpm add -D @types/node
```

### 1.4 @coreé€£æº

```typescript
// packages/web/package.json
{
  "dependencies": {
    "@agentmine/core": "workspace:*"
  }
}
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆPhase 1å®Œäº†æ™‚ï¼‰

```
packages/web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Dashboard
â”‚   â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # Tasksä¸€è¦§
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ tasks/
â”‚   â”‚           â””â”€â”€ route.ts    # Tasks API
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ command-palette.tsx
â”‚   â”‚   â””â”€â”€ tasks/
â”‚   â”‚       â”œâ”€â”€ task-list.tsx
â”‚   â”‚       â””â”€â”€ task-card.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ use-keyboard.ts
â”‚   â”‚   â””â”€â”€ use-tasks.ts
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ api.ts
â”‚       â””â”€â”€ utils.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ tsconfig.json
```

---

## Workeråˆ¶å¾¡ï¼ˆWeb UIã§å®Œçµï¼‰

### æ¦‚è¦

agentmineã®æ ¸å¿ƒæ©Ÿèƒ½ã¯ **Workerï¼ˆAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰ã®èµ·å‹•ãƒ»åœæ­¢ãƒ»ç›£è¦–**ã€‚
CLIã®`agentmine worker run`ã‚³ãƒãƒ³ãƒ‰ã¨åŒç­‰ã®æ©Ÿèƒ½ã‚’Web UIã‹ã‚‰æ“ä½œå¯èƒ½ã«ã™ã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äººé–“ã¯ Web UI ã§å®Œçµ                                        â”‚
â”‚                                                             â”‚
â”‚  ã‚¿ã‚¹ã‚¯ä½œæˆ â†’ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé¸æŠ â†’ Workerèµ·å‹• â†’ ç›£è¦– â†’ å®Œäº†   â”‚
â”‚                                                             â”‚
â”‚  CLI ã‚’è¦šãˆã‚‹å¿…è¦ãªã—                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Workerèµ·å‹•ãƒ•ãƒ­ãƒ¼ï¼ˆUIæ“ä½œï¼‰

```
â”Œâ”€ Task Detail â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚ #3 èªè¨¼æ©Ÿèƒ½ã®å®Ÿè£…                                          â”‚
â”‚                                                           â”‚
â”‚ Status: open â†’ in_progress (auto)                         â”‚
â”‚ Agent:  [coder â–¼]                                         â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                Worker Control                       â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚   [â–¶ Workerèµ·å‹•]  [ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•]             â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚   èµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³:                                    â”‚   â”‚
â”‚ â”‚   â˜‘ è‡ªå‹•æ‰¿èªãƒ¢ãƒ¼ãƒ‰ (--dangerously-skip-permissions) â”‚   â”‚
â”‚ â”‚   â˜ ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ (å¤‰æ›´ã‚’å®Ÿè¡Œã—ãªã„)                    â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Workerç›£è¦–ï¼ˆå®Ÿè¡Œä¸­ï¼‰

```
â”Œâ”€ Task #3: èªè¨¼æ©Ÿèƒ½ã®å®Ÿè£… â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚ Status: â— in_progress (Workerå®Ÿè¡Œä¸­)                      â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Worker Status                                       â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ â— å®Ÿè¡Œä¸­  é–‹å§‹: 14:30  çµŒé: 5m23s                   â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Agent:    coder                                     â”‚   â”‚
â”‚ â”‚ Client:   claude-code                               â”‚   â”‚
â”‚ â”‚ Model:    opus                                      â”‚   â”‚
â”‚ â”‚ Worktree: .agentmine/worktrees/task-3/              â”‚   â”‚
â”‚ â”‚ PID:      12345                                     â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 60%                  â”‚   â”‚
â”‚ â”‚ Activity: ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­...                          â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ [â–  åœæ­¢]  [ğŸ“‹ ãƒ­ã‚°ã‚’è¦‹ã‚‹]  [ğŸ”„ å†èµ·å‹•]              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Workerå®Œäº†æ™‚

```
â”Œâ”€ Task #3: èªè¨¼æ©Ÿèƒ½ã®å®Ÿè£… â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚ Status: â— in_progress (merge pending)                     â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Worker Result                                       â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ âœ“ å®Œäº†  æ‰€è¦æ™‚é–“: 12m34s                            â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ Exit Code: 0                                        â”‚   â”‚
â”‚ â”‚ Branch:    task-3                                   â”‚   â”‚
â”‚ â”‚ Commits:   3                                        â”‚   â”‚
â”‚ â”‚ Files:     +5 / -2 / ~8                             â”‚   â”‚
â”‚ â”‚                                                     â”‚   â”‚
â”‚ â”‚ [å·®åˆ†ã‚’è¦‹ã‚‹]  [ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒãƒ¼ã‚¸]  [ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—]   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CLIã‚³ãƒãƒ³ãƒ‰ã¨ã®å¯¾å¿œ

| Web UIæ“ä½œ | å¯¾å¿œã™ã‚‹CLIã‚³ãƒãƒ³ãƒ‰ |
|------------|---------------------|
| Workerèµ·å‹• | `agentmine worker run <taskId> --exec` |
| ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹• | `agentmine worker run <taskId> --exec --detach` |
| Workeråœæ­¢ | `agentmine worker stop <taskId>` |
| çŠ¶æ…‹ç¢ºèª | `agentmine worker status <taskId>` |
| ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— | `agentmine worker done <taskId>` |
| ä¸¦åˆ—èµ·å‹•ã®å¾…æ©Ÿ | `agentmine worker wait <taskIds...>` |

---

## API Routesä»•æ§˜

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | `/api/tasks` | ã‚¿ã‚¹ã‚¯ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿å¯¾å¿œï¼‰ |
| POST | `/api/tasks` | ã‚¿ã‚¹ã‚¯ä½œæˆ |
| GET | `/api/tasks/counts` | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã‚«ã‚¦ãƒ³ãƒˆ |
| GET | `/api/tasks/[id]` | ã‚¿ã‚¹ã‚¯è©³ç´°å–å¾— |
| PATCH | `/api/tasks/[id]` | ã‚¿ã‚¹ã‚¯æ›´æ–° |
| DELETE | `/api/tasks/[id]` | ã‚¿ã‚¹ã‚¯å‰Šé™¤ |
| GET | `/api/sessions` | ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ |
| GET | `/api/sessions/[id]` | ã‚»ãƒƒã‚·ãƒ§ãƒ³è©³ç´° |
| GET | `/api/agents` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸€è¦§ |
| GET | `/api/agents/[name]` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè©³ç´° |
| PUT | `/api/agents/[name]` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ›´æ–° |
| POST | `/api/workers/[taskId]/run` | Workerèµ·å‹• |
| POST | `/api/workers/[taskId]/stop` | Workeråœæ­¢ |
| GET | `/api/workers/[taskId]/status` | WorkerçŠ¶æ…‹å–å¾— |
| POST | `/api/workers/[taskId]/done` | Workerå®Œäº†å‡¦ç† |
| GET | `/api/memory` | Memoryä¸€è¦§ |
| GET | `/api/memory/[...path]` | Memoryãƒ•ã‚¡ã‚¤ãƒ«å–å¾— |
| PUT | `/api/memory/[...path]` | Memoryãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–° |

### Tasks API

```typescript
// GET /api/tasks
// Query: status, priority, type, assigneeName, limit, offset
interface TasksResponse {
  tasks: Task[]
  total: number
}

// POST /api/tasks
interface CreateTaskRequest {
  title: string
  description?: string
  priority?: 'low' | 'medium' | 'high' | 'critical'
  type?: 'task' | 'feature' | 'bug' | 'refactor'
  assigneeType?: 'ai' | 'human'
  assigneeName?: string
  labels?: string[]
  parentId?: number
}

// GET /api/tasks/counts
interface TaskCountsResponse {
  open: number
  in_progress: number
  done: number
  failed: number
  cancelled: number
}

// PATCH /api/tasks/[id]
interface UpdateTaskRequest {
  title?: string
  description?: string
  status?: 'open' | 'in_progress' | 'done' | 'failed' | 'cancelled'
  priority?: 'low' | 'medium' | 'high' | 'critical'
  labels?: string[]
  // ...
}
```

### Workers API

```typescript
// POST /api/workers/[taskId]/run
interface RunWorkerRequest {
  detach?: boolean      // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ
  dryRun?: boolean      // ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³
  agentName?: string    // ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆçœç•¥æ™‚ã¯ã‚¿ã‚¹ã‚¯ã®å‰²ã‚Šå½“ã¦ï¼‰
}

interface RunWorkerResponse {
  sessionId: number
  pid?: number
  worktreePath: string
}

// GET /api/workers/[taskId]/status
interface WorkerStatusResponse {
  status: 'idle' | 'running' | 'completed' | 'failed'
  sessionId?: number
  pid?: number
  startedAt?: string
  duration?: number     // seconds
  progress?: number     // 0-100
  activity?: string     // ç¾åœ¨ã®ä½œæ¥­å†…å®¹
  exitCode?: number
}

// POST /api/workers/[taskId]/stop
interface StopWorkerResponse {
  success: boolean
  message: string
}

// POST /api/workers/[taskId]/done
interface DoneWorkerResponse {
  success: boolean
  worktreeRemoved: boolean
  branchName: string
}
```

### coreã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æº

```typescript
// packages/web/src/app/api/tasks/route.ts
import { getDb } from '@agentmine/core/db'
import { TaskService } from '@agentmine/core/services'

export async function GET(request: Request) {
  const db = await getDb()
  const taskService = new TaskService(db)

  const { searchParams } = new URL(request.url)
  const status = searchParams.get('status')
  const priority = searchParams.get('priority')

  const tasks = await taskService.findAll({
    status: status as TaskStatus | undefined,
    priority: priority as TaskPriority | undefined,
  })

  return Response.json({ tasks, total: tasks.length })
}

// packages/web/src/app/api/workers/[taskId]/run/route.ts
import { WorktreeService } from '@agentmine/core/services'
import { spawn } from 'child_process'

export async function POST(
  request: Request,
  { params }: { params: { taskId: string } }
) {
  const taskId = parseInt(params.taskId)
  const { detach, agentName } = await request.json()

  const worktreeService = new WorktreeService()

  // 1. Worktreeä½œæˆ
  const worktree = worktreeService.create({ taskId })

  // 2. ã‚¹ã‚³ãƒ¼ãƒ—é©ç”¨
  const agent = await agentService.getAgent(agentName || 'coder')
  if (agent.scope) {
    worktreeService.applyScope(taskId, agent.scope)
  }

  // 3. Workerèµ·å‹•
  const process = spawn('agentmine', ['worker', 'run', taskId.toString(), '--exec'], {
    cwd: worktree.path,
    detached: detach,
  })

  return Response.json({
    sessionId: session.id,
    pid: process.pid,
    worktreePath: worktree.path,
  })
}
```

---

## ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°

### Server-Sent Events (SSE)

WorkerçŠ¶æ…‹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã«SSEã‚’ä½¿ç”¨ã€‚

```typescript
// packages/web/src/app/api/workers/[taskId]/events/route.ts
export async function GET(
  request: Request,
  { params }: { params: { taskId: string } }
) {
  const encoder = new TextEncoder()

  const stream = new ReadableStream({
    async start(controller) {
      const interval = setInterval(async () => {
        const status = await getWorkerStatus(params.taskId)
        const data = `data: ${JSON.stringify(status)}\n\n`
        controller.enqueue(encoder.encode(data))

        if (status.status === 'completed' || status.status === 'failed') {
          clearInterval(interval)
          controller.close()
        }
      }, 1000)
    }
  })

  return new Response(stream, {
    headers: {
      'Content-Type': 'text/event-stream',
      'Cache-Control': 'no-cache',
      'Connection': 'keep-alive',
    },
  })
}
```

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´

```typescript
// packages/web/src/hooks/use-worker-status.ts
import { useEffect, useState } from 'react'

export function useWorkerStatus(taskId: number) {
  const [status, setStatus] = useState<WorkerStatus | null>(null)

  useEffect(() => {
    const eventSource = new EventSource(`/api/workers/${taskId}/events`)

    eventSource.onmessage = (event) => {
      setStatus(JSON.parse(event.data))
    }

    return () => eventSource.close()
  }, [taskId])

  return status
}
```

---

## å®Ÿè£…å„ªå…ˆåº¦ï¼ˆæ›´æ–°ï¼‰

| å„ªå…ˆåº¦ | æ©Ÿèƒ½ | è©³ç´° |
|--------|------|------|
| **P0** | API RoutesåŸºç›¤ | Tasks APIã€@coreé€£æº |
| **P0** | ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç½®ãæ›ãˆ | æ—¢å­˜UIã‚’å®Ÿãƒ‡ãƒ¼ã‚¿ã«æ¥ç¶š |
| **P1** | Workeråˆ¶å¾¡UI | èµ·å‹•ãƒ»åœæ­¢ãƒœã‚¿ãƒ³ã€çŠ¶æ…‹è¡¨ç¤º |
| **P1** | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° | SSEã§WorkerçŠ¶æ…‹ç›£è¦– |
| **P2** | Sessionsä¸€è¦§ãƒ»è©³ç´° | å®Œäº†æ¸ˆã¿ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† |
| **P2** | Agentsç®¡ç† | ä¸€è¦§ãƒ»ç·¨é›†ï¼ˆUI/YAMLï¼‰ |
| **P3** | Memory Bank | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã€Markdownã‚¨ãƒ‡ã‚£ã‚¿ |
| **P3** | Dashboard | çµ±è¨ˆã€ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
| **P4** | é«˜åº¦ãªæ©Ÿèƒ½ | ãƒ©ãƒ™ãƒ«é§†å‹•ãƒœãƒ¼ãƒ‰ã€éšå±¤è¡¨ç¤ºã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å®Œå…¨å¯¾å¿œ |

### å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆè©³ç´°ï¼‰

**Phase 0: APIåŸºç›¤**
1. `/api/tasks` - GET (ä¸€è¦§), POST (ä½œæˆ)
2. `/api/tasks/[id]` - GET, PATCH, DELETE
3. `/api/tasks/counts` - GET
4. æ—¢å­˜Tasks UIã‚’APIã«æ¥ç¶š

**Phase 1: Workeråˆ¶å¾¡**
1. `/api/workers/[taskId]/run` - POST
2. `/api/workers/[taskId]/stop` - POST
3. `/api/workers/[taskId]/status` - GET
4. `/api/workers/[taskId]/events` - GET (SSE)
5. Taskè©³ç´°ã«Workeråˆ¶å¾¡UIã‚’è¿½åŠ 
6. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹æ›´æ–°
